<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TV Gratuite Légale - Togo & Francophonie</title>

  <!-- PWA : Manifest + icônes + theme -->
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#c00">
  <link rel="apple-touch-icon" href="https://via.placeholder.com/180?text=TV">
  <!-- Remplace par de vraies icônes 192x192 et 512x512 quand tu les auras -->

  <style>
    body { 
      margin:0; 
      font-family: Arial, sans-serif; 
      background:#0f0f0f; 
      color:#fff; 
    }
    header { 
      background:#c00; 
      padding:20px; 
      text-align:center; 
      position: relative;
    }
    .site-logo {
      position: absolute;
      top: 12px;
      left: 12px;
      width: 140px;
      max-height: 80px;
      z-index: 100;
    }
    .site-logo:hover { opacity: 0.9; transform: scale(1.04); }

    .category {
      margin: 50px 0 70px; /* plus d'espace entre catégories */
      padding: 0 15px;
      border-radius: 12px;
      overflow: hidden;
    }
    .category h2 {
      margin: 0;
      padding: 16px;
      font-size: 1.5em;
      text-align: center;
      border-bottom: 3px solid;
    }
    /* Couleurs différentes par catégorie */
    .info       h2 { background:#1e3a5f; border-color:#3a7bd5; }
    .musique    h2 { background:#2e1a47; border-color:#9b59b6; }
    .jeunesse   h2 { background:#1a3c34; border-color:#27ae60; }
    .sport      h2 { background:#3d1a1a; border-color:#e74c3c; }
    .divert     h2 { background:#2c3e50; border-color:#3498db; }
    .docu       h2 { background:#2f4f4f; border-color:#16a085; }
    .films      h2 { background:#4a2c00; border-color:#f39c12; }
    .general    h2 { background:#222;      border-color:#7f8c8d; }

    .category-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 18px;
      padding: 25px 15px 35px;
      background: rgba(30,30,30,0.6);
    }

    .channel { 
      background:#1a1a1a; 
      border-radius:10px; 
      overflow:hidden; 
      height:220px; 
      position:relative; 
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.6);
      transition: transform 0.18s;
    }
    .channel:hover { transform: scale(1.04); }

    .placeholder {
      position: absolute;
      inset: 0;
      background: #000;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .channel-logo {
      width: 85%;
      height: 65%;
      object-fit: contain;
    }
    .play-button {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80px;
      height: 80px;
      background: rgba(200,0,0,0.8);
      border-radius: 50%;
      font-size: 42px;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 5;
    }
    .placeholder-text {
      position: absolute;
      bottom: 8px;
      font-size: 1.05em;
      color: #ccc;
      text-shadow: 0 1px 4px #000;
      z-index: 5;
    }
    .iframe-container {
      display: none;
      width: 100%;
      height: 100%;
    }
    iframe {
      width:100%;
      height:100%;
      border:none;
    }
    .channel h3 { 
      margin:0; 
      padding:8px; 
      background:rgba(0,0,0,0.7); 
      position:absolute; 
      bottom:0; 
      width:100%; 
      text-align:center; 
      font-size: 1em;
    }

    footer {
      text-align:center; 
      padding:30px 15px; 
      font-size:0.85em; 
      background:#000;
      color:#999;
    }

    @media (max-width: 768px) {
      .site-logo { width: 100px; top: 8px; left: 8px; }
      header { padding-left: 115px; padding-top: 12px; padding-bottom: 12px; text-align: left; }
      .category-grid { grid-template-columns: 1fr; gap: 16px; padding: 20px 10px; }
    }
  </style>
</head>
<body>

  <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTQFU_Iem7NEMls6Cqyh6P2s7bq8aS-vPR31Q&s" 
       alt="Logo TV Gratuite Légale" class="site-logo">

  <header>
    <h1>Votre TV à Vous</h1>
    <p>Chaînes publiques et internationales en direct – 100% légal – Cliquez pour lancer</p>
  </header>

  <!-- 1. Informations / Actualités -->
  <div class="category info">
    <h2>Informations / Actualités</h2>
    <div class="category-grid">
      <!-- France 24 -->
      <div class="channel" data-src="https://www.youtube.com/embed/live_stream?channel=UCCCPCZNChQdGa9EkATeye4g&autoplay=1">
        <div class="placeholder"><div class="logo-container"><img src="https://upload.wikimedia.org/wikipedia/commons/c/c1/France_24_logo_%282013%29.svg" alt="France 24" class="channel-logo"></div><div class="play-button">▶️</div>
        <div class="iframe-container"><iframe allowfullscreen></iframe></div>
        <h3>France 24</h3>
      </div>
      <!-- TV5MONDE -->
      <div class="channel" data-src="https://ott.tv5monde.com/Content/HLS/Live/channel(info)/variant.m3u8?hdnea=st%3D1770335390~exp%3D1770342590~acl%3D%2F%2A~hmac%3Deb421a31016fc22b82d002c36ca2540c8e59aaa987024fc4bc94405e4cfd89f5">
        <div class="placeholder"><div class="logo-container"><img src="https://upload.wikimedia.org/wikipedia/commons/4/42/TV5MONDE_logo.png" alt="TV5MONDE" class="channel-logo"></div><div class="play-button">▶️</div><div class="placeholder-text">TV5MONDE</div></div>
        <div class="iframe-container"><iframe allowfullscreen></iframe></div>
        <h3>TV5MONDE</h3>
      </div>
      <!-- Euronews -->
      <div class="channel" data-src="https://www.youtube.com/embed/live_stream?channel=UCW2QcKZiU8aUGg4yxCIditg&autoplay=1">
        <div class="placeholder"><div class="logo-container"><img src="data:image/png;base64,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" alt="Euronews" class="channel-logo"></div><div class="play-button">▶️</div><div class="placeholder-text">Euronews Français</div></div>
        <div class="iframe-container"><iframe allowfullscreen></iframe></div>
        <h3>Euronews Français</h3>
      </div>
    </div>
  </div>

  <!-- 2. Musique -->
  <div class="category musique">
    <h2>Musique</h2>
    <div class="category-grid">
      <!-- Trace Urban -->
      <div class="channel" data-src="https://amg01131-tracetv-traceurbanuk-samsunguk-6r213.amagi.tv/ts-eu-w1-n2/playlist/amg01131-tracetv-traceurbanuk-samsunguk/cb543d177d6c648892d43660cef040a9f9591fde1d6988693eb5518975d1073edce2a59caa08ff16388f1ede7f0a66413a3e951fda77118fd87eb141453c5728cfffe729a2c05616b7db083429b56a062a866a68ac39437ed0e21f48a238b6720a5aa82a66443d80b846ac7256db80148b61299bce8c37683f03409a5e5afba358b1ebb30f4cdd38f4e74a55952c42e59f43c8821da689d05ac85ed574f5469c91a48bd317d18ff31893688af2cba84307fbb45ed1ad69b9dd951b48f61309606e9f623ef184281d80554a5ff985abf505ad52a6db54e10057db60f80fa449ccef49f70a2bdcffe7d0fe445330a7c5144d28ade09a479a5f3c9069e1abe5d17233ccb844380ffe64d626242f83bde520c49245d8e678c58360136e94ca0583cbe6caaf919d5a9020fdc2f6b3345601365755c80ef4da25f001e9558482532d554641edbd50c78dd617704147948f53d15c4aed8fc5d3915e759a20285bee61cb524a399f63222fb35f8cf0565b80280e8a222ebb0965f225d28c6ca4f795b57c78dfb8e04df068e3b070a2d50abb62315c42feb21b564b4872c7fd246a147cd04ef0dcdaeb145851ba17ac7f38ab94619253d4262fd0c0939c99f3c14a3fc13f/116/1920x1080_5288800/index.m3u8"> <!-- lien tronqué dans ton message, garde le complet -->
        <div class="placeholder"><div class="logo-container"><img src="https://upload.wikimedia.org/wikipedia/commons/d/d6/Trace_urban.png" alt="TRACE URBAN" class="channel-logo"></div><div class="play-button">▶️</div><div class="placeholder-text">TRACE URBAN</div></div>
        <div class="iframe-container"><iframe allowfullscreen></iframe></div>
        <h3>TRACE URBAN</h3>
      </div>
      <!-- NEW WORLD MIX -->
      <div class="channel" data-src="https://hls.newworldtv.com/nw-magazine/video/live_3.m3u8">
        <div class="placeholder"><div class="logo-container"><img src="https://upload.wikimedia.org/wikipedia/commons/3/36/Logo_TV7_Bordeaux_%282023%29.png" alt="NEW WORLD MIX" class="channel-logo"></div><div class="play-button">▶️</div><div class="placeholder-text">NEW WORLD MIX</div></div>
        <div class="iframe-container"><iframe allowfullscreen></iframe></div>
        <h3>NEW WORLD MIX</h3>
      </div>
    </div>
  </div>

  <!-- 3. Animé / Jeunesse -->
  <div class="category jeunesse">
    <h2>Animé / Jeunesse</h2>
    <div class="category-grid">
      <!-- TIVI5MONDE -->
      <div class="channel" data-src="https://ott.tv5monde.com/Content/HLS/Live/channel(tivi5)/variant.m3u8">
        <div class="placeholder"><div class="logo-container"><img src="https://play-lh.googleusercontent.com/MYr-S1cGu3Dl8Z52vSILNgzkPi8-qnMWq6b2mk7j5S8_a3S1X7apaHJJN_9oUSDQvrA=w600-h300-pc0xffffff-pd" alt="TIVI5MONDE" class="channel-logo"></div><div class="play-button">▶️</div><div class="placeholder-text">TIVI5MONDE</div></div>
        <div class="iframe-container"><iframe allowfullscreen></iframe></div>
        <h3>TIVI5MONDE</h3>
      </div>
    </div>
  </div>

  <!-- 4. Sport -->
  <div class="category sport">
    <h2>Sport</h2>
    <div class="category-grid">
      <!-- TV7 -->
      <div class="channel" data-src="https://live-tv7.digiteka.com/1913908445/index.m3u8">
        <div class="placeholder"><div class="logo-container"><img src="https://play-lh.googleusercontent.com/MYr-S1cGu3Dl8Z52vSILNgzkPi8-qnMWq6b2mk7j5S8_a3S1X7apaHJJN_9oUSDQvrA=w600-h300-pc0xffffff-pd" alt="TIVI5MONDE" class="channel-logo"></div><div class="play-button">▶️</div><div class="placeholder-text">TIVI5MONDE</div></div>
        <div class="iframe-container"><iframe allowfullscreen></iframe></div>
        <h3>TV7</h3>
      </div>
      <!-- NCI -->
      <div class="channel" data-src="https://cflive.kaltura.com/env/d.live.nvp1/live/hls/p/5571652/e/1_2gnrfyb6/.../index-s32.m3u8">
        <div class="placeholder"><div class="logo-container"><img src="https://play-lh.googleusercontent.com/MYr-S1cGu3Dl8Z52vSILNgzkPi8-qnMWq6b2mk7j5S8_a3S1X7apaHJJN_9oUSDQvrA=w600-h300-pc0xffffff-pd" alt="TIVI5MONDE" class="channel-logo"></div><div class="play-button">▶️</div><div class="placeholder-text">TIVI5MONDE</div></div>
        <div class="iframe-container"><iframe allowfullscreen></iframe></div>
        <h3>NCI</h3>
      </div>
      <!-- FOOT -->
      <div class="channel" data-src="https://broadcasthub.click/hls/ZWevymm11TKF/index.m3u8?...">
        <div class="placeholder"><div class="logo-container"><img src="https://play-lh.googleusercontent.com/MYr-S1cGu3Dl8Z52vSILNgzkPi8-qnMWq6b2mk7j5S8_a3S1X7apaHJJN_9oUSDQvrA=w600-h300-pc0xffffff-pd" alt="TIVI5MONDE" class="channel-logo"></div><div class="play-button">▶️</div><div class="placeholder-text">TIVI5MONDE</div></div>
        <div class="iframe-container"><iframe allowfullscreen></iframe></div>
        <h3>FOOT</h3>
      </div>
      <!-- L’ÉQUIPE TV -->
      <div class="channel" data-src="https://live2.eu-north-1a.cf.dmcdn.net/.../live-1080.m3u8">
        <div class="placeholder"><div class="logo-container"><img src="https://play-lh.googleusercontent.com/MYr-S1cGu3Dl8Z52vSILNgzkPi8-qnMWq6b2mk7j5S8_a3S1X7apaHJJN_9oUSDQvrA=w600-h300-pc0xffffff-pd" alt="TIVI5MONDE" class="channel-logo"></div><div class="play-button">▶️</div><div class="placeholder-text">TIVI5MONDE</div></div>
        <div class="iframe-container"><iframe allowfullscreen></iframe></div>
        <h3>L’ÉQUIPE TV</h3>
      </div>
    </div>
  </div>

  <!-- 5. Divertissement -->
  <div class="category divert">
    <h2>Divertissement</h2>
    <div class="category-grid">
      <!-- TFX -->
      <div class="channel" data-src="https://viamotionhsi.netplus.ch/live/eds/nt1/browser-HLS8/nt1.m3u8">
        <div class="placeholder"><div class="logo-container"><img src="https://upload.wikimedia.org/wikipedia/fr/thumb/8/83/TFX_logo_2018.svg/1280px-TFX_logo_2018.svg.png" alt="TFX" class="channel-logo"></div><div class="play-button">▶️</div><div class="placeholder-text">TFX</div></div>
        <div class="iframe-container"><iframe allowfullscreen></iframe></div>
        <h3>TFX</h3>
      </div>
    </div>
  </div>

  <!-- 6. Documentaire -->
  <div class="category docu">
    <h2>Documentaire</h2>
    <div class="category-grid">
      <!-- LOVE THE PLANET -->
      <div class="channel" data-src="https://amg01821-lovetvchannels-lovetheplanetfrsamsung-samsungfr-hfam1.amagi.tv/.../index.m3u8">
        <div class="placeholder"><div class="logo-container"><img src="https://play-lh.googleusercontent.com/MYr-S1cGu3Dl8Z52vSILNgzkPi8-qnMWq6b2mk7j5S8_a3S1X7apaHJJN_9oUSDQvrA=w600-h300-pc0xffffff-pd" alt="TIVI5MONDE" class="channel-logo"></div><div class="play-button">▶️</div><div class="placeholder-text">TIVI5MONDE</div></div>
        <div class="iframe-container"><iframe allowfullscreen></iframe></div>
        <h3>LOVE THE PLANET</h3>
      </div>
    </div>
  </div>

  <!-- 7. Films / Séries -->
  <div class="category films">
    <h2>Films / Séries</h2>
    <div class="category-grid">
      <!-- TELENOVELAS -->
      <div class="channel" data-src="https://stormcast-telenovelatv-1-fr.samsung.wurl.tv/3000.m3u8">
        <div class="placeholder"><div class="logo-container"><img src="https://play-lh.googleusercontent.com/MYr-S1cGu3Dl8Z52vSILNgzkPi8-qnMWq6b2mk7j5S8_a3S1X7apaHJJN_9oUSDQvrA=w600-h300-pc0xffffff-pd" alt="TIVI5MONDE" class="channel-logo"></div><div class="play-button">▶️</div><div class="placeholder-text">TIVI5MONDE</div></div>
        <div class="iframe-container"><iframe allowfullscreen></iframe></div>
        <h3>TELENOVELAS</h3>
      </div>
    </div>
  </div>

  <!-- 8. Généraliste -->
  <div class="category general">
    <h2>Généraliste</h2>
    <div class="category-grid">
      <!-- ORTB -->
      <div class="channel" data-src="https://srtblive.streamakaci.tv/ortb/ortb1-multi/playlist.m3u8">
        <div class="placeholder"><div class="logo-container"><img src="https://play-lh.googleusercontent.com/MYr-S1cGu3Dl8Z52vSILNgzkPi8-qnMWq6b2mk7j5S8_a3S1X7apaHJJN_9oUSDQvrA=w600-h300-pc0xffffff-pd" alt="TIVI5MONDE" class="channel-logo"></div><div class="play-button">▶️</div><div class="placeholder-text">TIVI5MONDE</div></div>
        <div class="iframe-container"><iframe allowfullscreen></iframe></div>
        <h3>ORTB</h3>
      </div>
      <!-- RTI 1 -->
      <div class="channel" data-src="https://cflive.kaltura.com/scf/env/d.live.nvp1/live/hls/p/6234172/e/1_vqff78xz/.../index-s32.m3u8?...">
        <div class="placeholder"><div class="logo-container"><img src="https://play-lh.googleusercontent.com/MYr-S1cGu3Dl8Z52vSILNgzkPi8-qnMWq6b2mk7j5S8_a3S1X7apaHJJN_9oUSDQvrA=w600-h300-pc0xffffff-pd" alt="TIVI5MONDE" class="channel-logo"></div><div class="play-button">▶️</div><div class="placeholder-text">TIVI5MONDE</div></div>
        <div class="iframe-container"><iframe allowfullscreen></iframe></div>
        <h3>RTI 1</h3>
      </div>
      <!-- RTI 2 -->
      <div class="channel" data-src="https://cflive.kaltura.com/scf/env/d.live.nvp1/live/hls/p/6234172/e/1_pbprnpab/.../index-s32.m3u8?...">
        <div class="placeholder"><div class="logo-container"><img src="https://play-lh.googleusercontent.com/MYr-S1cGu3Dl8Z52vSILNgzkPi8-qnMWq6b2mk7j5S8_a3S1X7apaHJJN_9oUSDQvrA=w600-h300-pc0xffffff-pd" alt="TIVI5MONDE" class="channel-logo"></div><div class="play-button">▶️</div><div class="placeholder-text">TIVI5MONDE</div></div>
        <div class="iframe-container"><iframe allowfullscreen></iframe></div>
        <h3>RTI 2</h3>
      </div>
    </div>
  </div>

  <div style="text-align:center; padding:40px 15px; background:#1a1a1a;">
    <p>Découvrez des offres exclusives adaptées à votre connexion :</p>
    <a href="https://www.effectivegatecpm.com/rjm6a4yrka?key=d2ea1606aaaccfbe11ca55139854caf6" target="_blank" style="color:#ff6699; font-weight:bold;">Voir les promotions →</a>
  </div>

  <footer>
    <p>Site non-officiel – Sources officielles & YouTube Live – Respect des droits d'auteur – Usage personnel</p>
  </footer>

  <script>
    // Ouverture player (comme avant)
    const channels = document.querySelectorAll('.channel');
    function resetAllChannels(except) {
      channels.forEach(ch => {
        if (ch !== except) {
          ch.querySelector('iframe').src = '';
          ch.querySelector('.placeholder').style.display = 'flex';
          ch.querySelector('.iframe-container').style.display = 'none';
          ch.classList.remove('loaded');
        }
      });
    }
    channels.forEach(ch => {
      ch.addEventListener('click', function() {
        if (this.classList.contains('loaded')) return;
        resetAllChannels(this);
        const src = this.dataset.src;
        this.querySelector('iframe').src = src;
        this.querySelector('.placeholder').style.display = 'none';
        this.querySelector('.iframe-container').style.display = 'block';
        this.classList.add('loaded');
      });
    });

    // PWA : register service worker simple
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(reg => console.log('Service Worker enregistré'))
          .catch(err => console.log('Erreur SW:', err));
      });
    }
  </script>
</body>
</html>